<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Neon VR Store</title>
<script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
</head>

<body>
<a-scene 
  background="color: #111122"
  vr-mode-ui="enabled: true"
  webxr="optionalFeatures: local-floor">

<a-assets>

  <a-asset-item id="shoeModel"
    src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/Shoe/glTF-Binary/Shoe.glb">
  </a-asset-item>

  <a-asset-item id="brushModel"
    src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/WaterBottle/glTF-Binary/WaterBottle.glb">
  </a-asset-item>

  <a-asset-item id="shirtModel"
    src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/CesiumMan/glTF-Binary/CesiumMan.glb">
  </a-asset-item>

  <a-asset-item id="laptopModel"
    src="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models/2.0/Laptop/glTF-Binary/Laptop.glb">
  </a-asset-item>

</a-assets>

<!-- LIGHTING -->
<a-entity light="type: ambient; intensity: 0.8"></a-entity>
<a-entity light="type: point; intensity: 2; color: #00ffff" position="0 5 0"></a-entity>
<a-entity light="type: point; intensity: 2; color: #ff00ff" position="5 5 -5"></a-entity>

<!-- FLOOR -->
<a-plane rotation="-90 0 0" width="50" height="50" color="#1a1a40"></a-plane>

<!-- CAMERA RIG WITH CONTROLLERS -->
<a-entity id="rig" position="0 1.6 5">
  <a-camera></a-camera>

  <a-entity
    laser-controls="hand: right"
    raycaster="objects: .clickable"
    line="color: yellow">
  </a-entity>

  <a-entity laser-controls="hand: left"></a-entity>
</a-entity>

<!-- CART PANEL -->
<a-plane id="cartPanel"
         position="0 3 -3"
         width="3"
         height="1"
         color="#222"
         material="opacity: 0.85">
</a-plane>

<a-text id="cartText"
        value="ðŸ›’ Cart: 0 items"
        position="0 3 -2.9"
        align="center"
        color="#00ffcc"
        width="6">
</a-text>

<!-- PRODUCTS -->

<a-entity gltf-model="#shoeModel"
          position="-4 1 -5"
          scale="1 1 1"
          rotation="0 45 0"
          class="clickable product">
</a-entity>

<a-entity gltf-model="#brushModel"
          position="-1 1 -5"
          scale="2 2 2"
          rotation="0 30 0"
          class="clickable product">
</a-entity>

<a-entity gltf-model="#shirtModel"
          position="2 1 -5"
          scale="1 1 1"
          rotation="0 180 0"
          class="clickable product">
</a-entity>

<a-entity gltf-model="#laptopModel"
          position="5 1 -5"
          scale="1 1 1"
          rotation="0 180 0"
          class="clickable product">
</a-entity>

</a-scene>

<script>
let cartCount = 0;

document.querySelectorAll('.product').forEach(product => {

  product.addEventListener('mouseenter', function () {
    this.setAttribute('scale', '1.3 1.3 1.3');
  });

  product.addEventListener('mouseleave', function () {
    this.setAttribute('scale', '1 1 1');
  });

  product.addEventListener('click', function () {
    cartCount++;
    document.querySelector('#cartText')
      .setAttribute('value', "ðŸ›’ Cart: " + cartCount + " items");
  });

});
</script>

</body>
</html>
